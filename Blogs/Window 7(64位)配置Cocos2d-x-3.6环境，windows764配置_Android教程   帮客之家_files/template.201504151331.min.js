!function(a,b){function c(){return l++}function d(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}function e(a){if(!a)return"";var b="jd.com/"+a;return b}function f(a){var b=[];return a.replace(q,"").replace(p,function(a,c,d){d&&b.push(d)}),b}function g(a,b){this.uri=a,this.dependencies=b||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}var h=a.seajs={version:"@VERSION"},i=h.data={},j="jd.com/";i.base=j,i.dir=j,i.cwd="jd.com",i.charset="utf-8";var k,l=0,m=(d("Object"),d("String"),Array.isArray||d("Array")),n=d("Function"),o=h.cache={};h.resolve=e;var p=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,q=/\\\\/g,r=g.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};g.prototype.resolve=function(){for(var a=this,b=a.dependencies,c=[],d=0,e=b.length;e>d;d++)c[d]=g.resolve(b[d],a.uri);return c},g.prototype.load=function(){var a=this;if(!(a.status>=r.LOADING)){a.status=r.LOADING;for(var b,c=a.resolve(),d=a._remain=c.length,e=0;d>e;e++)b=g.get(c[e]),b.status<r.LOADED?b._waitings[a.uri]=(b._waitings[a.uri]||0)+1:a._remain--;if(0===a._remain)return void a.onload();for(e=0;d>e;e++)b=o[c[e]],b.status===r.SAVED&&b.load()}},g.prototype.onload=function(){var a=this;a.status=r.LOADED,a.callback&&a.callback();var b,c,d=a._waitings;for(b in d)d.hasOwnProperty(b)&&(c=o[b],c._remain-=d[b],0===c._remain&&c.onload());delete a._waitings,delete a._remain},g.prototype.exec=function(){function a(b){return g.get(a.resolve(b)).exec()}var d=this;if(d.status>=r.EXECUTING)return d.exports;d.status=r.EXECUTING;var e=d.uri;a.resolve=function(a){return g.resolve(a,e)},a.async=function(b,d){return g.use(b,d,e+"_async_"+c()),a};var f=d.factory,h=n(f)?f(a,d.exports={},d):f;return h===b&&(h=d.exports),delete d.factory,d.exports=h,d.status=r.EXECUTED,h},g.resolve=function(a,b){var c={id:a,refUri:b};return c.uri||h.resolve(c.id,b)},g.define=function(a,c,d){var e=arguments.length;1===e?(d=a,a=b):2===e&&(d=c,m(a)?(c=a,a=b):c=b),!m(c)&&n(d)&&(c=f(d.toString()));var h={id:a,uri:g.resolve(a),deps:c,factory:d};h.uri?g.save(h.uri,h):k=h},g.save=function(a,b){var c=g.get(a);c.status<r.SAVED&&(c.id=b.id||a,c.dependencies=b.deps||[],c.factory=b.factory,c.status=r.SAVED)},g.get=function(a,b){return o[a]||(o[a]=new g(a,b))},g.use=function(b,c,d){var e=g.get(d,m(b)?b:[b]);e.callback=function(){for(var b=[],d=e.resolve(),f=0,g=d.length;g>f;f++)b[f]=o[d[f]].exec();c&&c.apply(a,b),delete e.callback},e.load()},h.use=function(a,b){return g.use(a,b,i.cwd+"_use_"+c()),h},g.define.cmd={},a.define=g.define,h.Module=g,i.cid=c,h.require=function(a){var b=g.get(g.resolve(a));return b.status<r.EXECUTING&&(b.onload(),b.exec()),b.exports}}(this),define("js/_J",function(){function a(a,b){return!!a&&a.nodeType==b}var b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,c=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/;_J=function(a,d){d&&(d=d.length?d[0]:d);var e=d||window.document;if("string"!=typeof a)return a.nodeType?a:null;if(match="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:b.exec(a),match&&match[1]){var f=e.createElement("div");return f.innerHTML=a,f.childNodes[0]}return match&&match[2]?e.getElementById(match[2]):(match=c.exec(a),match[2]?e.getElementsByTagName(match[2]):match[3]?e.getElementsByClassName?e.getElementsByClassName(match[3]):_J.getElementsByClassName(match[3],e):void 0)},_J.extend=function(){var a=arguments[0];1===arguments.length&&(a=this);var b=arguments[arguments.length-1];for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};var d=1;_J.extend({getElementsByClassName:function(a,b,c){var d=[],e=(b||document).getElementsByTagName(c||"*"),f=e.length,g=new RegExp("\\s*"+a+"\\s*");for(i=0,j=0;f>i;i++)g.test(e[i].className)&&(d[j]=e[i],j++);return d},addClass:function(b,c){return a(b,d)&&c?b.className?void(this.hasClass(b,c)||(b.className+=" "+c)):void(b.className=c):void 0},removeClass:function(b,c){if(a(b,d)&&b.className&&c){var e,f=b.className.split(" ");for(e=0;e<f.length&&c!==f[e];e++);f.splice(e,1),b.className=f.join(" ")}},hasClass:function(b,c){if(!a(b,d)||!b.className||!c)return!1;var e,f=b.className.split(" ");for(e=0;e<f.length;e++)if(f[e]===c)return!0;return!1},timeStamp:+new Date,getScript:function(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(document.getElementsByTagName("head")[0].removeChild(c),b&&b())},document.getElementsByTagName("head")[0].appendChild(c)},jsonp:function(a,b){b=!!b||"callback";var b=(a.data||{},"dsp_"+this.timeStamp++);window[b]=function(b){a.callback(b)};var c=a.url.indexOf("?"),d=a.url+(c>-1?"&":"?")+"callback="+b+"&r="+ +new Date;this.getScript(d,function(){window[b]=void 0;try{delete window[b]}catch(a){}})}}),EventUtil={getEvent:function(a){return a||window.event},getTarget:function(a){return a.target||a.srcElement},on:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),c;if(a.attachEvent){var d=function(){var b=window.event;b.target=b.srcElement,c.call(a,b)};return a.attachEvent("on"+b,d),d}},off:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},preventDefault:function(a){a.preventDefault?a.preventDefault():"returnValue"in a&&(a.returnValue=!1)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():"cancelBubble"in a&&(a.cancelBubble=!0)}},_J.clone=function(a){if(null==a||"object"!=typeof a)return a;if(a instanceof Date){var b=new Date;return b.setTime(a.getTime()),b}if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=_J.clone(a[c]);return b}if(a instanceof Object){var b={};for(var e in a)a.hasOwnProperty(e)&&(b[e]=_J.clone(a[e]));return b}throw new Error("Unable to copy obj! Its type isn't supported.")}}),define("js/cookie",function(a){var b=a("js/config").cookie,c=(a("js/datasource"),{getNowTime:function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds(),h="";return h=b+"-"+c+"-"+d+" "+e+":"+f+":"+g},enabled:function(a){var b=!1,c=this;return"string"==typeof c.get(a)?b=!0:b},set:function(a,b,c){var c=c||{};if(c.domain=c.domain||"",c.path=c.path||"/",c.expires=c.expires||31536e6,"number"==typeof c.expires){var d=new Date;d.setTime(d.getTime()+c.expires)}document.cookie=a+"="+b+";expires="+d.toGMTString()+(c.domain?";domain="+c.domain:"")+";path="+c.path},get:function(a){var b,c=encodeURIComponent(a)+"=",d=document.cookie.indexOf(c),e=null;return d>-1&&(b=document.cookie.indexOf(";",d),-1==b&&(b=document.cookie.length),e=decodeURIComponent(document.cookie.substring(d+c.length,b))),e},remove:function(a){this.set(a,"",{expires:-3600})},uuid:function(){function a(){var a={},b=window,c=b.navigator,d="toLowerCase",e=b.screen,f=document;return a.D=e?e.width+"x"+e.height:"-",a.C=e?e.colorDepth+"-bit":"-",a.language=(c&&(c.language||c.browserLanguage)||"-")[d](),a.javaEnabled=c&&c.javaEnabled()?1:0,a.characterSet=f.characterSet||f.charset||"-",a}function b(){return Math.round(2147483647*Math.random())}function c(){for(var b=a(),c=window.navigator,b=c.appName+c.version+b.language+c.platform+c.userAgent+b.javaEnabled+b.D+b.C+(document.cookie?document.cookie:"")+(document.referrer?document.referrer:""),c=b.length,d=window.history.length;d>0;)b+=d--^c++}return b()^2147483647&c()},initjda:function(){var a=this;if(!a.enabled("__jda")){var b,c;c=Date.parse(new Date).toString().substring(0,10),b="."+a.uuid()+"."+c+"."+c+"."+c+".0",a.set("__jda",b,{expires:15552e6,domain:".jd.com"})}}});b._switch&&c.initjda()}),define("js/bind",function(a){for(var b=a("js/datasource"),c=a("js/config").turns,d=c.group,e=_J(c.contName),f=_J(c.groupItem),g=_J(c.tagName),h=0;h<b.length;h++)b[h].contdom=e[h/d],b[h].tagdom=g[h/d],b[h].itemdom=f[h],b[h].imgok=!1,b[h].expok=!1}),define("js/datasource",function(a){function b(a,b){b=b||99;var d=[],e=a.Query,f=0,g=c.map;for(var h in e)for(var i=e[h],f=0;f<i.length&&!(f>=b);f++){var j=i[f],k={};for(var l in g)k[l]=j[g[l]];d.push(k)}return d}var c=a("js/config").datasource,d=b(_global_dsp_data,c.size);if(d.length<c.size)for(var e=c.size-d.length,f=d.length,g=0;e>g;g++){var h=d[g>=f?f-1:g];d.push(_J.clone(h))}return d}),define("js/logo",function(a){var b=a("js/config").logo,c=_J("img",_J(".jdAdLogo"))[0];c.parentNode.innerHTML="<img src='"+b.imgurl+"' style='"+b.style+"'></img>"}),define("js/priceload",function(a){function b(a){var b=a;try{for(var c=0;c<b.length;c++)for(var d=b[c].id.split("_"),e=_J(".price_"+d[1]),f=0;f<e.length;f++)e[f].innerHTML=b[c].p>0?parseFloat(b[c].p).toFixed(2):"已下架"}catch(g){}}function c(a){if(a&&a.length>0){for(var c=[],d=0;d<a.length;d++)if(4==a[d].data_type)for(var f=_J(".price_"+a[d].data_skuid),g=0;g<f.length;g++)f[g].previousSibling.innerHTML="",f[g].innerHTML=e.shop_title;else c.push("J_"+a[d].data_skuid);_J.jsonp({url:e.url.replace("{skuids}",c.join(",")),callback:b})}}var d=a("js/datasource"),e=a("js/config").priceload;(e._switch||null==e._switch)&&c(d)}),define("js/promoload",function(a){function b(a){for(var b=[],c=0;c<a.length;c++){var d=j[a[c]];d&&b.push([a[c],d[0],d[1]])}return b}function c(a){for(var c=0;c<a.length;c++){var d=a[c],e=d.pid;d.pf=b(d.pf);var g=i[c]?d.pf.concat(i[c]):d.pf;g=h[c]?h[c].concat(g):d.pf;var j=[],l=0;if(g&&g.length>0)for(;l<g.length&&f>l;l++)j.push('<span style="'+k[g[l][2]]+'">'+g[l][1]+"</span>");if(j.length>0)for(var m=_J(".promInfo_"+e),n=0;n<m.length;n++)m[n].innerHTML=j.join(""),m[n].style.display=""}}function d(a){if(a&&a.length>0){for(var b=[],d=0,f=0;f<a.length;f++){var g=a[f];if(4!=g.data_type&&5!=g.data_type){b.push("J_"+g.data_skuid),h[d]=[],i[d]=[];for(var k in j){var l=j[k];if(g[l[2]]>0&&0==l[3]){var m=g[l[2]],n=l[1];if(m>10&&"{d}好评"==l[0])var o=l[0].replace("{d}",m);else o=10>=m&&"{d}好评"==l[0]?"":l[0];h[d].push([k,o,n])}else 1==g[l[2]]&&1==l[3]&&i[d].push([k,l[0],l[1]])}d++}}_J.jsonp({url:e.url.replace("{skuids}",b.join(",")),callback:c})}}var e=a("js/config").promoload,f=e.num||4,g=a("js/datasource"),h=[],i=[],j={1:["直降","tag_title"],3:["赠券","tag_title"],4:["赠京豆","tag_title"],5:["赠品","tag_title"],11:["会员特享","tag_title"],22:["京豆优惠购","tag_title"],101:["货到付款","send_title","sdtype",0],100:["{d}好评","com_title","goodcms",0],102:["白条分期","tag_title","data_baitiao",1]},k={tag_title:"float:left;color:#fff;background:#e4393c;padding:2px 2px 2px 2px;margin: 2px 5px 5px 2px;line-height: 12px;font-weight: 100;",send_title:"float:left;color: #fff;background:#6a77b6;padding:2px 2px 2px 2px;margin: 2px 5px 5px 2px;line-height: 12px;font-weight: 100;",com_title:"float:left;color:#6a77b6;padding:2px 2px 1px;margin: 2px 5px 5px 1px;line-height: 12px;font-weight: 100;"};(e._switch||null==e._switch)&&d(g)}),define("js/query",function(a){function b(a,b){for(var c=n.length-1;c>=0;c--){var d=n[c];if(d&&!d.use&&d.i===a&&d.j===b)return d}}function c(a,b){for(var c=0;b>c;c++)for(var d=a.length-1;d>0;d--){var e=a[d];if(e&&!e.use){e.s=24,e.use=!0;break}}}function d(a,c){for(var d=0;c>d;d++)for(var e=a.length-1;e>=0;e--){var f=a[e];if(f&&!f.use){var g=b(f.i+1,f.j);if(g){f.w=f.w+g.w+m,f.s=24,f.use=!0,delete a[a.indexOf(g)];break}}}}for(var e=a("js/datasource"),f=a("js/config").query,g=void 0,h=0;h<e.length&&(g=e[h],5!=g.data_type);h++)if(h==e.length-1)return;var i=f.width||258,j=f.height||230,k=f.colum||2,l=f.row||5,m=1;Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1});for(var n=[],o=(i-m*(k-1))/k,p=(j-m*(l-1))/l,h=0;k>h;h++)for(var q=0;l>q;q++)n.push({w:o,h:p,x:h*(o+m),y:q*(p+m),i:h,j:q,s:13});d(n,2),c(n,2),d(n,1);var r="<div style='position:relative;width:300px; height:250px;'>",s=["#d4d4d4","#9999cc","#ffff99","#feff00","#cc99cc","#ffcccc","#ccccff"],h=0;for(var t in n){var u=n[t],v=null==g.query[h]?"":g.query[h];r+="<a href='"+v.landpage+"' target='_blank' style='display:block;text-align:center;overflow:hidden;color:#000;background-color:"+s[h]+";position:absolute;left:"+u.x+"px;top:"+u.y+"px;width:"+u.w+"px;height:"+u.h+"px;font-weight:bold;font-size:"+(u.w>i/2?u.h/2:u.h/3)+"px;line-height:"+u.h+"px;'>"+(null==v.keywords?"":v.keywords)+"</a>",h++}r+="</div>";var w=document.getElementById("query");w&&(w.innerHTML=r)}),define("js/show",[],function(a){var b=a("js/datasource"),c=a("js/turns"),d=a("js/config"),e=document.getElementById("skuTpl").innerHTML,f=_.template(e,{datas:b,column:d.turns.column,len:d.datasource.size,gsize:d.turns.group});document.write(f),a("js/priceload"),a("js/promoload"),a("js/logo"),a("js/bind"),(null==d.query._switch||d.query._switch)&&a("js/query");for(var g=d.turns.column||1,h=0;g>h;h++)new c("#jdAdCol"+h,h)}),!function(){var a,b,c,d,e,f,g,h,i,j,k=this;k._,a={},b=Array.prototype,c=Object.prototype,d=Function.prototype,b.push,e=b.slice,b.concat,c.toString,c.hasOwnProperty,Array.isArray,Object.keys,d.bind,f=function(a){return a instanceof f?a:this instanceof f?void(this._wrapped=a):new f(a)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):k._=f,f.each=f.forEach=function(b,c,d){var e,g,h;if(null==b)return b;if(b.length===+b.length){for(e=0,g=b.length;g>e;e++)if(c.call(d,b[e],e,b)===a)return}else for(h=f.keys(b),e=0,g=h.length;g>e;e++)if(c.call(d,b[h[e]],h[e],b)===a)return;return b},f.defaults=function(a){return f.each(e.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},g=/(.)^/,h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},i=/\\|'|\r|\n|\u2028|\u2029/g,j=function(a){return"\\"+h[a]},f.template=function(a,b,c){var d,e,h,k,l,m;c=f.defaults({},c,f.templateSettings),d=new RegExp([(c.escape||g).source,(c.interpolate||g).source,(c.evaluate||g).source].join("|")+"|$","g"),e=0,h="__p+='",a.replace(d,function(b,c,d,f,g){return h+=a.slice(e,g).replace(i,j),e=g+b.length,c?h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?h+="'+\n((__t=("+d+"))==null?'':__t)+\n'":f&&(h+="';\n"+f+"\n__p+='"),b}),h+="';\n",c.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{k=new Function(c.variable||"obj","_",h)}catch(n){throw n.source=h,n}return b?k(b,f):(l=function(a){return k.call(this,a,f)},m=c.variable||"obj",l.source="function("+m+"){\n"+h+"}",l)}}.call(this),define("js/turns",function(a,b,c){var d=a("js/config").turns,e=a("js/datasource"),f=function(a,b){this.conts=_J(d.contName,_J(a)),this.tags=_J(d.tagName,_J(a)),this.interval=d.interval,this.group=d.group,this.pos=0,this.timer=null,this.turns=0,this.size=d.size>this.conts.length?this.conts.length:d.size,this.bpos=b*this.size,this.start(),this.mouseoverout(_J(a),this.tags)};c.exports=f,f.prototype={start:function(){var a=this;this.show(this.pos),this.timer=setInterval(function(){a.next()},this.interval)},next:function(){this.hideCurrent(),this.pos++,this.pos%=this.size,this.show(this.pos)},stop:function(){clearInterval(this.timer)},show:function(a){var b=this.bpos+a;_J.addClass(this.conts[a],"current"),_J.addClass(this.tags[a],"select");for(var c=0;c<this.group;c++){var d=e[b*this.group+c];if(!d)break;(3==d.data_type||4==d.data_type)&&(this.imgload(d),this.exposal(d))}},hideCurrent:function(){for(var a=0;a<this.conts.length;a++)_J.removeClass(this.conts[a],"current"),_J.removeClass(this.tags[a],"select")},hideTags:function(){for(var a=0;a<this.conts.length;a++)this.tags[a].nextSibling.style.display="none"},imgload:function(a){if(!a.imgok){var b=a.itemdom.getElementsByTagName("img"),c=b[0];c.src="http://img13.360buyimg.com/cms/s{size}x{size}_".replace(/{size}/g,250)+a.data_skuimg}},exposal:function(a){a.expok||(a.expok=!0,_J.getScript(a.exposal_url))},mouseoverout:function(a,b){var c=this;a.onmouseover=function(){c.stop()},a.onmouseout=function(){c.start()};for(var d=function(){c.hideCurrent(),c.stop(),c.show(this.index),c.pos=this.index},e=0;e<b.length;e++)b[e].index=e,b[e].onmouseover=d}}});